
<div class="page-header">
  <h2>Product Listing</h2>
  <p>Discover our amazing products with great deals</p>
</div>

<div class="filter-section">
  <div class="filter-header">
    <h3>Filter Products</h3>
    <button class="btn-reset" (click)="resetFilters()">Clear All</button>
  </div>
  
  <div class="filter-body">
    <div class="search-box">
      <input [(ngModel)]="search" placeholder="Search products..." />
      <button class="search-btn" (click)="loadProducts()">
        <i class="fas fa-search"></i>
      </button>
    </div>
    
    <div class="filter-group">
      <label>Category</label>
      <select [(ngModel)]="category">
        <option value="">All Categories</option>
        <option value="Electronics">Electronics</option>
        <option value="Clothing">Clothing</option>
        <option value="Footwear">Footwear</option>
      </select>
    </div>
    
    <div class="filter-group price-filter">
      <label>Price Range</label>
      <div class="price-inputs">
        <input [(ngModel)]="minPrice" type="number" placeholder="Min" />
        <span class="price-separator">-</span>
        <input [(ngModel)]="maxPrice" type="number" placeholder="Max" />
      </div>
    </div>
    
    <button class="btn-primary apply-filter" (click)="loadProducts()">Apply Filters</button>
  </div>
</div>

<div class="products-container">
  <div class="no-products" *ngIf="products.length === 0">
    <i class="fas fa-box-open"></i>
    <p>No products found matching your criteria</p>
    <button class="btn-secondary" (click)="resetFilters()">Clear Filters</button>
  </div>
  
  <div class="product-grid" *ngIf="products.length > 0">
    <div class="product-card" *ngFor="let p of products">
      <div class="product-image">
        <img [src]="p.image" alt="{{ p.name }}" (error)="handleImageError($event)">
      </div>
      <div class="product-info">
        <h3 class="product-name">{{ p.name }}</h3>
        <p class="product-category">{{ p.category }}</p>
        <div class="product-price">â‚¹{{ p.price }}</div>
      </div>
    </div>
  </div>
</div>

<div class="pagination-container" *ngIf="products.length > 0">
  <div class="pagination">
    <button class="pagination-btn" (click)="prevPage()" [disabled]="page <= 1">
      <i class="fas fa-chevron-left"></i> Previous
    </button>
    <div class="pagination-info">
      Page {{ page }} of {{ Math.ceil(total / pageSize) }}
    </div>
    <div class="page-size-selector">
      <label for="pageSize">Items per page:</label>
      <select id="pageSize" [(ngModel)]="pageSize" (change)="changePageSize()">
        <option [value]="4">4</option>
        <option [value]="8">8</option>
        <option [value]="12">12</option>
        <option [value]="16">16</option>
      </select>
    </div>
    <button class="pagination-btn" (click)="nextPage()" [disabled]="page * pageSize >= total">
      Next <i class="fas fa-chevron-right"></i>
    </button>
  </div>
</div>
